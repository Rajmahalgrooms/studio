<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Everything ğŸ’œ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <audio id="bgMusic" loop autoplay>
    <!-- Replace below with your own song! -->
    <source src="your_own_song.mp3" type="audio/mpeg">
    <source src="https://www.bensound.com/bensound-music/bensound-love.mp3" type="audio/mpeg">
  </audio>

  <div class="confetti"></div>

  <main>
    <h1 id="mainTitle" class="glow">Happy Girlfriend's Day ğŸ’«</h1>
    
    <!-- Step 0: Camera Permission -->
    <section class="step" id="step0">
      <p>ğŸ’œ To make this magical, allow camera to record your beautiful smile! ğŸ˜Š<br>(No preview, just a keepsake for us!)</p>
      <button class="main-btn" onclick="requestCamera()">Allow & Start âœ¨</button>
      <p id="permissionStatus"></p>
    </section>

    <!-- Step 1: Name -->
    <section class="step" id="step1">
      <p>What should I call the most precious person in my world? ğŸ¥¹ğŸ’‹</p>
      <input type="text" id="herName" placeholder="Your Gorgeous Name ğŸ’œ" />
      <button class="main-btn" onclick="saveName()">Begin Journey ğŸ’Œ</button>
    </section>

    <!-- Step 2: Compliment -->
    <section class="step" id="step2">
      <p>Hey <span id="name1">Princess</span>, you outshine the moon and all the stars! ğŸŒ™âœ¨</p>
      <button class="main-btn" onclick="nextStep()">Blushes ğŸ˜³</button>
    </section>

    <!-- Step 3: Fun Question -->
    <section class="step" id="step3">
      <p>What makes you smile the most? ğŸ˜</p>
      <button onclick="nextStep(); showEmoji('ğŸ˜˜')" class="main-btn">You! ğŸ˜˜</button>
      <button onclick="showEmoji('ğŸŸ')" class="main-btn">French fries ğŸŸ</button>
      <div id="emojiShow"></div>
    </section>

    <!-- Step 4: Gift Boxes -->
    <section class="step" id="step4">
      <p>Pick a magical box, my love! ğŸ Only one hides a real gift!</p>
      <div class="gift-row">
        <button class="gift-btn" onclick="giftWrong()">ğŸ</button>
        <button class="gift-btn" onclick="giftWrong()">ğŸ</button>
        <button class="gift-btn" onclick="giftRight()">ğŸ</button>
      </div>
      <div id="giftMsg"></div>
      <button class="main-btn next-hide" id="giftNext" style="display:none;" onclick="nextStep()">Open Your Gift ğŸ‰</button>
    </section>

    <!-- Step 5: Proposal -->
    <section class="step" id="step5">
      <p>Will you be mine forever, <span id="name2">love</span>? ğŸ’</p>
      <button onclick="yesClicked()" class="main-btn">Yes ğŸ’‹</button>
      <button id="noBtn" onclick="noClicked()" class="main-btn danger">No ğŸ™„</button>
    </section>

    <!-- Step 6: Confetti & Kisses -->
    <section class="step" id="step6">
      <div class="emoji-party">ğŸ’‹ ğŸ’œ ğŸ’‹ ğŸ’œ ğŸ’‹ ğŸ’œ</div>
      <p>Yay! I knew it!<br>Hereâ€™s 1000 kisses and infinite hugs! ğŸ˜˜ğŸ˜˜ğŸ˜˜</p>
      <button class="main-btn" onclick="nextStep()">For you: A Royal Scroll! ğŸ‘‘</button>
    </section>

    <!-- Step 7: Scroll Certificate -->
    <section class="step" id="step7">
      <p>ğŸ€ Pull to open your scroll certificate! ğŸ€</p>
      <div id="parchment" class="parchment" onclick="unrollCertificate()">
        <div class="scroll-top"></div>
        <div class="scroll-center">
          <div id="certContent" class="cert-content">
            <h2>ğŸ’œ Certificate of Eternal Love ğŸ’œ</h2>
            <p>This certifies that <strong id="finalName">Her Name</strong> is the most precious, beautiful, and loved girl in the universe! ğŸ’«</p>
            <p>Our love is forever, signed by <strong>Kamil</strong> ğŸ’</p>
            <div class="big-emoji">ğŸ’œğŸ’‹ğŸ’œ</div>
          </div>
        </div>
        <div class="scroll-bottom"></div>
        <div class="pull-down">â¬‡ï¸ Pull Down â¬‡ï¸</div>
      </div>
      <div style="margin-top:20px">
        <button class="main-btn" onclick="downloadCertificate()">Download as Picture ğŸ“œ</button>
        <button class="main-btn" onclick="stopRecording()">Save Reaction Video ğŸ“¹</button>
      </div>
    </section>
  </main>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="main.js"></script>
</body>
</html>
